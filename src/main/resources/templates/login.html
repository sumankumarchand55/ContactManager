<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link th:href="@{/css/style.css}" rel="stylesheet">

<meta charset="UTF-8">
<title>UserLogin-ContactManager</title>

<style>
.mybody {
	background-image: url('img/signupbg.jpg');
	background-size: cover;
	background-repeat: no-repeat;
	background-attachment: fixed;
	min-height: 100vh;
}

@media ( max-width : 767px) {
	.vertical-links {
		display: block;
	}
	.vertical-links img {
		max-height: 100px;
	}
	.mybody {
		min-height: 106vh;
	}
}
</style>

</head>
<body>
	<div data-th-replace="~{/fragments/afterlogin/spinner :: spinner}"></div>
	<section class="mybody">
		<div class="container">
			<div class="row justify-content-center align-items-center">
				<div class="col-md-4 custom-container toplogin">
					<div class="my-card mt-4 signuphover rounded top custom-card">
						<!-- Display Error message -->
						<div th:if="${param.error}" th:switch="${param.error[0]}">
							<div th:case="'disabled'"
								class="alert-danger fw-bold text-center alert">
								Your account is not verified. <span th:if="${param.emailSent}">Email
									with verification link send to your email please verify to
									continue.....</span> <span th:unless="${param.emailSent}">Email
									sent failed,please try after some time..</span>
							</div>
							<div th:case="'invalid'"
								class="alert-danger fw-bold text-center alert">Invalid
								Email-id or Password!!!</div>
							<div th:case="*" class="alert alert-warning fw-bold text-center">
								An unknown error occurred: <span th:text="${param.error[0]}"></span>
							</div>
						</div>
						<div th:if="${param.logout}"
							class="alert-success fw-bold text-center alert">You have
							been logged out</div>



						<div class="container ">
							<label></label>
							<div class="row justify-content-center mb-2"
								style="margin-top: -30px;">
								<div class="col-12">
									<div
										class="logo-container d-flex justify-content-center align-items-center">
										<a class="text-success"
											href="https://suman-ojbp.onrender.com/students"> <img
											src="/img/home/contactlogo.png" alt="Logo"
											style="width: 40px; margin-right: -8px;" class="fw-bold">
										</a>
										<h4 class="fw-bold mb-0 ms-2">
											<span class="text-blue">Contact</span><span class="text-red">Manager</span>
										</h4>
									</div>
								</div>
							</div>
						</div>



						<div class="container text-center">
							<img style="width: 40px" alt="" th:src="@{/img/registration.png}">
						</div>
						<h3 class="text-center text-service fw-bold">Sign in to
							continue..</h3>

						<form method="post" th:action="@{'/authenticate'}"
							onsubmit="submitForm()">
							<!--  novalidate="novalidate" -->
							<!-- UserName Field  -->
							<div class="form-group">
								<label for="email_field" class="form-label fw-bold">Enter
									your Email*</label>
								<div class="input-group">
									<!-- Icon inside the input group -->
									<span class="input-group-text"> <i
										class="fas fa-envelope"></i></span> <input type="email" name="email"
										class="form-control" id="email_field"
										aria-describedby="emailHelp"
										placeholder="contact@sumanisowner.com"
										autocomplete="on" />
								</div>
							</div>

							<!-- Password Field  -->
							<div class="form-group">
								<label for="password_field" class="form-label fw-bold">Enter
									Password*</label>
								<div class="input-group mb-2">
									<span class="input-group-text"> <i class="fas fa-lock"></i></span>
									<input type="password" name="password" class="form-control"
										id="password_field" placeholder="Password!!!" required />
									<button class="btn bg-secondary" type="button"
										id="togglePassword">
										<i class="fas fa-eye"></i>
									</button>
								</div>
								<div class="text-end">
									<a href="/auth/forgot-password" class="footer-link2 link-primary fw-bold text-primary">Forgot
										Password?</a>
								</div>
							</div>
							<label></label>
							<div class="container text-center">
								<button type="submit" class="btn mybtn btn-primary">
									Login</button>

								<button type="reset" class="btn btn-danger">Reset</button>
							</div>

						</form>
						<h2 class="text-center fw-bold text-dark">OR</h2>
						<div class="social-buttons-container flex text-center mt-1">
							<a href="oauth2/authorization/google"
								class="login-with-google-btn fw-bold footer-link2"> Sign in
								with Google </a>
						</div>

						<div class="text-center mt-4 fw-bold">
							Don't have account? <a class="footer-link1" th:href="@{/signup}"
								onclick="submitForm()">sign-up</a>
						</div>
						<div class="text-center mt-1 fw-bold">
							OR Return <a class="footer-link1" th:href="@{/}">Home</a>
						</div>
					</div>
				</div>
			</div>
		</div>

	</section>
</body>
<script th:src="@{/js/script.js}"></script>
<script>
	function submitForm() {
		$('#loadingSpinner').show();
	}

	function showSpinner() {
		$('#loadingSpinner').show();
	}
	function hideSpinner() {
		$('#loadingSpinner').hide();
	}
	window.addEventListener('beforeunload', showSpinner);
	window.addEventListener('load', hideSpinner);
</script>
</html>